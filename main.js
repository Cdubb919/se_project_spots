!function(){var e={179:function(e,t,o){var n={"./1-photo-by-moritz-feldmann-from-pexels.jpg":145,"./2-photo-by-ceiline-from-pexels.jpg":195,"./3-photo-by-tubanur-dogan-from-pexels.jpg":837,"./4-photo-by-maurice-laschet-from-pexels.jpg":713,"./5-photo-by-van-anh-nguyen-from-pexels.jpg":574,"./6-photo-by-moritz-feldmann-from-pexels.jpg":129,"./Group2.svg":614,"./Logo.svg":562,"./Union.svg":815,"./avatar.jpg":483,"./closeicon.svg":271,"./closeicondefault.svg":915,"./closeiconhover.svg":668,"./closemodalbtn.svg":589,"./closemodalhoverstate.svg":642,"./deletebtn.svg":864,"./deletebtnHover.svg":669,"./likebtncolorchg.svg":549,"./likebtnhoverstate.svg":74,"./plusiconuse.svg":948};function r(e){var t=s(e);return o(t)}function s(e){if(!o.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id=179},145:function(e,t,o){"use strict";e.exports=o.p+"418980fdb81d7ceb84cc.jpg"},195:function(e,t,o){"use strict";e.exports=o.p+"da7ae2ac910426f62176.jpg"},837:function(e,t,o){"use strict";e.exports=o.p+"b431bbb397d7a39486fd.jpg"},713:function(e,t,o){"use strict";e.exports=o.p+"44b92084d1c40cb0a70b.jpg"},574:function(e,t,o){"use strict";e.exports=o.p+"ac218ab8ae2c025add31.jpg"},129:function(e,t,o){"use strict";e.exports=o.p+"f37cd48ce187723b17f6.jpg"},614:function(e,t,o){"use strict";e.exports=o.p+"1ecf96fab54a91c898b4.svg"},562:function(e,t,o){"use strict";e.exports=o.p+"8650253b58b46f0f1c06.svg"},815:function(e,t,o){"use strict";e.exports=o.p+"29a25a3c4fb6b6e4a7d6.svg"},483:function(e,t,o){"use strict";e.exports=o.p+"2fc47fd8e9a9bcd9612f.jpg"},271:function(e,t,o){"use strict";e.exports=o.p+"a326e1ad56a2cd944a28.svg"},915:function(e,t,o){"use strict";e.exports=o.p+"a326e1ad56a2cd944a28.svg"},668:function(e,t,o){"use strict";e.exports=o.p+"a8e301eb86866b1df117.svg"},589:function(e,t,o){"use strict";e.exports=o.p+"53f0bab7ec2e970778f9.svg"},642:function(e,t,o){"use strict";e.exports=o.p+"c5b17daa11333c2f0346.svg"},864:function(e,t,o){"use strict";e.exports=o.p+"d19faa0112f44e2b6e01.svg"},669:function(e,t,o){"use strict";e.exports=o.p+"86ae92bd1a937388d496.svg"},549:function(e,t,o){"use strict";e.exports=o.p+"0f0dda9918e145f68d20.svg"},74:function(e,t,o){"use strict";e.exports=o.p+"6cc9a0b44bfd83f0954f.svg"},948:function(e,t,o){"use strict";e.exports=o.p+"40608da7369d39bc1077.svg"}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,o),s.exports}o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-btn",inactiveButtonClass:"modal__submit-btn_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},t=(e,t,o)=>{e.querySelector(`#${t.id}-error`).textContent="",t.classList.remove(o.inputErrorClass)},n=(e,t,o)=>{(e=>e.some(e=>!e.validity.valid))(e)?(t.disabled=!0,t.classList.add(o.inactiveButtonClass)):(t.disabled=!1,t.classList.remove(o.inactiveButtonClass))},r=e=>{document.querySelectorAll(e.formSelector).forEach(o=>{((e,o)=>{const r=Array.from(e.querySelectorAll(o.inputSelector)),s=e.querySelector(o.submitButtonSelector);r.forEach(c=>{c.addEventListener("input",function(){((e,o,n)=>{o.validity.valid?t(e,o,n):((e,t,o,n)=>{e.querySelector(`#${t.id}-error`).textContent=o,t.classList.add(n.inputErrorClass)})(e,o,o.validationMessage,n)})(e,c,o),n(r,s,o)})})})(o,e)})};r(e),o(179);const s=document.querySelector(".profile__edit-btn"),c=document.querySelector("#edit-profile-modal"),a=c.querySelector(".modal__close-btn"),i=c.querySelector(".modal__form"),l=c.querySelector("#profile-name-input"),u=c.querySelector("#profile-description-input"),d=document.querySelector(".profile__add-btn"),p=document.querySelector("#new-post-modal"),m=p.querySelector(".modal__close-btn"),f=p.querySelector(".modal__form"),v=p.querySelector("#card-image-input"),g=p.querySelector("#caption-description-input"),b=document.querySelector(".profile__name"),y=document.querySelector(".profile__description"),_=(document.querySelector(".card__image"),document.querySelector(".card__title"),document.querySelector("#preview-modal")),x=_.querySelector(".modal__image"),S=_.querySelector(".modal__caption"),h=_.querySelector(".modal__close-btn"),q=document.querySelector("#card_template").content.querySelector(".card"),w=document.querySelector(".cards__list");function k(e){"Escape"===e.key&&j(document.querySelector(".modal_is-opened"))}function E(e){const t=q.cloneNode(!0),o=t.querySelector(".card__title"),n=t.querySelector(".card__image");n.src=e.link,n.alt=e.name,o.textContent=e.name,n.addEventListener("click",()=>{x.src=e.link,x.alt=e.name,S.textContent=e.name,L(_)});const r=t.querySelector(".card__like-btn");return r.addEventListener("click",()=>{r.classList.toggle("card__like-btn_active")}),t.querySelector(".card__delete-btn").addEventListener("click",()=>{t.remove()}),t}function L(e){e.classList.add("modal_is-opened"),document.addEventListener("keydown",k)}function j(e){e.classList.remove("modal_is-opened"),document.removeEventListener("keydown",k)}document.querySelectorAll(".modal").forEach(e=>{e.addEventListener("click",t=>{t.target.classList.contains("modal")&&j(e)})}),s.addEventListener("click",function(){l.value=b.textContent,u.value=y.textContent;const o=Array.from(i.querySelectorAll(e.inputSelector));((e,o,n)=>{o.forEach(o=>{t(e,o,n)})})(i,o,e),L(c)}),a.addEventListener("click",()=>{j(c)}),d.addEventListener("click",function(){L(p)}),m.addEventListener("click",()=>{j(p)}),i.addEventListener("submit",function(e){e.preventDefault(),b.textContent=l.value,y.textContent=u.value,j(c)}),h.addEventListener("click",function(){j(_)}),f.addEventListener("submit",function(t){t.preventDefault();const o=f.querySelector(".modal__submit-btn"),r=E({name:g.value,link:v.value});w.prepend(r),j(p),f.reset();const s=Array.from(f.querySelectorAll(e.inputSelector));n(s,o,e)}),[{name:"Golden Gate Bridge",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/7-photo-by-griffin-wooldridge-from-pexels.jpg"},{name:"Val Thorens",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/1-photo-by-moritz-feldmann-from-pexels.jpg"},{name:"Restaurant terrace",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/2-photo-by-ceiline-from-pexels.jpg"},{name:"An outdoor cafe",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/3-photo-by-tubanur-dogan-from-pexels.jpg"},{name:"A very long bridge, over the forest and through the trees",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/4-photo-by-maurice-laschet-from-pexels.jpg"},{name:"Tunnel with morning light",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/5-photo-by-van-anh-nguyen-from-pexels.jpg"},{name:"Mountain house",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/6-photo-by-moritz-feldmann-from-pexels.jpg"}].forEach(function(e){const t=E(e);w.append(t)}),r(e)}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bm9ucmVjdXJzaXZlIFxcLihzdmclN0NqcGUiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3NjcmlwdHMvdmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBtYXAgPSB7XG5cdFwiLi8xLXBob3RvLWJ5LW1vcml0ei1mZWxkbWFubi1mcm9tLXBleGVscy5qcGdcIjogMTQ1LFxuXHRcIi4vMi1waG90by1ieS1jZWlsaW5lLWZyb20tcGV4ZWxzLmpwZ1wiOiAxOTUsXG5cdFwiLi8zLXBob3RvLWJ5LXR1YmFudXItZG9nYW4tZnJvbS1wZXhlbHMuanBnXCI6IDgzNyxcblx0XCIuLzQtcGhvdG8tYnktbWF1cmljZS1sYXNjaGV0LWZyb20tcGV4ZWxzLmpwZ1wiOiA3MTMsXG5cdFwiLi81LXBob3RvLWJ5LXZhbi1hbmgtbmd1eWVuLWZyb20tcGV4ZWxzLmpwZ1wiOiA1NzQsXG5cdFwiLi82LXBob3RvLWJ5LW1vcml0ei1mZWxkbWFubi1mcm9tLXBleGVscy5qcGdcIjogMTI5LFxuXHRcIi4vR3JvdXAyLnN2Z1wiOiA2MTQsXG5cdFwiLi9Mb2dvLnN2Z1wiOiA1NjIsXG5cdFwiLi9Vbmlvbi5zdmdcIjogODE1LFxuXHRcIi4vYXZhdGFyLmpwZ1wiOiA0ODMsXG5cdFwiLi9jbG9zZWljb24uc3ZnXCI6IDI3MSxcblx0XCIuL2Nsb3NlaWNvbmRlZmF1bHQuc3ZnXCI6IDkxNSxcblx0XCIuL2Nsb3NlaWNvbmhvdmVyLnN2Z1wiOiA2NjgsXG5cdFwiLi9jbG9zZW1vZGFsYnRuLnN2Z1wiOiA1ODksXG5cdFwiLi9jbG9zZW1vZGFsaG92ZXJzdGF0ZS5zdmdcIjogNjQyLFxuXHRcIi4vZGVsZXRlYnRuLnN2Z1wiOiA4NjQsXG5cdFwiLi9kZWxldGVidG5Ib3Zlci5zdmdcIjogNjY5LFxuXHRcIi4vbGlrZWJ0bmNvbG9yY2hnLnN2Z1wiOiA1NDksXG5cdFwiLi9saWtlYnRuaG92ZXJzdGF0ZS5zdmdcIjogNzQsXG5cdFwiLi9wbHVzaWNvbnVzZS5zdmdcIjogOTQ4XG59O1xuXG5cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHR2YXIgaWQgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKTtcblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oaWQpO1xufVxuZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1hcCwgcmVxKSkge1xuXHRcdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0XHRlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG5cdFx0dGhyb3cgZTtcblx0fVxuXHRyZXR1cm4gbWFwW3JlcV07XG59XG53ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbn07XG53ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcbndlYnBhY2tDb250ZXh0LmlkID0gMTc5OyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjsiLCJleHBvcnQgY29uc3Qgc2V0dGluZ3MgPSB7XHJcbiAgICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXHJcbiAgICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fc3VibWl0LWJ0blwiLFxyXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fc3VibWl0LWJ0bl9kaXNhYmxlZFwiLFxyXG4gICAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCJcclxufVxyXG5cclxuY29uc3Qgc2hvd0lucHV0RXJyb3IgPSAoZm9ybUVsLCBpbnB1dEVsLCBlcnJvck1zZywgY29uZmlnKSA9PiB7XHJcbiAgICBjb25zdCBlcnJvck1zZ0VsID0gZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XHJcbiAgICBlcnJvck1zZ0VsLnRleHRDb250ZW50ID0gZXJyb3JNc2c7XHJcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5hZGQoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBcclxufTtcclxuXHJcbmNvbnN0IGhpZGVJbnB1dEVycm9yID0gKGZvcm1FbCwgaW5wdXRFbCwgY29uZmlnKSA9PiB7XHJcbiAgICBjb25zdCBlcnJvck1zZ0VsID0gZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XHJcbiAgICBlcnJvck1zZ0VsLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrSW5wdXRWYWxpZGl0eSA9IChmb3JtRWwsIGlucHV0RWwsIGNvbmZpZykgPT4ge1xyXG4gICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgICAgc2hvd0lucHV0RXJyb3IoZm9ybUVsLCBpbnB1dEVsLCBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlLCBjb25maWcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWwsIGlucHV0RWwsIGNvbmZpZyk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCBoYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0KSA9PiB7XHJcbiAgICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuICFpbnB1dC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHRvZ2dsZUJ1dHRvblN0YXRlID0gKGlucHV0TGlzdCwgYnV0dG9uRWwsIGNvbmZpZykgPT4ge1xyXG4gICAgaWYgKGhhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XHJcbiAgICAgICAgYnV0dG9uRWwuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIGJ1dHRvbkVsLmNsYXNzTGlzdC5hZGQoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBidXR0b25FbC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIGJ1dHRvbkVsLmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3QgZGlzYWJsZUJ1dHRvbiA9IChidXR0b25FbCkgPT4ge1xyXG4gICAgYnV0dG9uRWwuZGlzYWJsZWQgPSB0cnVlO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgcmVzZXRWYWxpZGF0aW9uID0gKGZvcm1FbCwgaW5wdXRMaXN0LCBjb25maWcpID0+IHtcclxuICAgIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbCwgaW5wdXQsIGNvbmZpZyk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmNvbnN0IHNldEV2ZW50TGlzdGVuZXJzID0gKGZvcm1FbCwgY29uZmlnKSA9PiB7XHJcbiAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKGZvcm1FbC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuXHJcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWwsIGlucHV0RWxlbWVudCwgY29uZmlnKTtcclxuICAgICAgICAgICAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcclxuICAgIGNvbnN0IGZvcm1MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKTtcclxuICAgIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbCkgPT4ge1xyXG4gICAgICAgIHNldEV2ZW50TGlzdGVuZXJzKGZvcm1FbCwgY29uZmlnKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuZW5hYmxlVmFsaWRhdGlvbihzZXR0aW5ncyk7IiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IHsgc2V0dGluZ3MsIHJlc2V0VmFsaWRhdGlvbiwgdG9nZ2xlQnV0dG9uU3RhdGUsIGVuYWJsZVZhbGlkYXRpb24gfSBmcm9tICcuLi9zY3JpcHRzL3ZhbGlkYXRpb24uanMnO1xyXG5cclxuY29uc3QgaW1hZ2VzID0gcmVxdWlyZS5jb250ZXh0KCcuLi9pbWFnZXMnLCBmYWxzZSwgL1xcLihzdmd8anBlP2cpJC8pO1xyXG5cclxuXHJcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICAgIHtcclxuICAgICAgICBuYW1lOiBcIkdvbGRlbiBHYXRlIEJyaWRnZVwiLFxyXG4gICAgICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9zcG90cy83LXBob3RvLWJ5LWdyaWZmaW4td29vbGRyaWRnZS1mcm9tLXBleGVscy5qcGdcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogXCJWYWwgVGhvcmVuc1wiLFxyXG4gICAgICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9zcG90cy8xLXBob3RvLWJ5LW1vcml0ei1mZWxkbWFubi1mcm9tLXBleGVscy5qcGdcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogXCJSZXN0YXVyYW50IHRlcnJhY2VcIixcclxuICAgICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvMi1waG90by1ieS1jZWlsaW5lLWZyb20tcGV4ZWxzLmpwZ1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiBcIkFuIG91dGRvb3IgY2FmZVwiLFxyXG4gICAgICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9zcG90cy8zLXBob3RvLWJ5LXR1YmFudXItZG9nYW4tZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6IFwiQSB2ZXJ5IGxvbmcgYnJpZGdlLCBvdmVyIHRoZSBmb3Jlc3QgYW5kIHRocm91Z2ggdGhlIHRyZWVzXCIsXHJcbiAgICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzQtcGhvdG8tYnktbWF1cmljZS1sYXNjaGV0LWZyb20tcGV4ZWxzLmpwZ1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiBcIlR1bm5lbCB3aXRoIG1vcm5pbmcgbGlnaHRcIixcclxuICAgICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvNS1waG90by1ieS12YW4tYW5oLW5ndXllbi1mcm9tLXBleGVscy5qcGdcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogXCJNb3VudGFpbiBob3VzZVwiLFxyXG4gICAgICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9zcG90cy82LXBob3RvLWJ5LW1vcml0ei1mZWxkbWFubi1mcm9tLXBleGVscy5qcGdcIixcclxuICAgIH0sXHJcbl07XHJcblxyXG5jb25zdCBlZGl0UHJvZmlsZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idG5cIik7XHJcbmNvbnN0IGVkaXRQcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtcHJvZmlsZS1tb2RhbFwiKTtcclxuY29uc3QgZWRpdFByb2ZpbGVDbG9zZUJ0biA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnRuXCIpO1xyXG5jb25zdCBlZGl0UHJvZmlsZUZvcm0gPSBlZGl0UHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbmNvbnN0IGVkaXRQcm9maWxlTmFtZUlucHV0ID0gZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtbmFtZS1pbnB1dFwiKTtcclxuY29uc3QgZWRpdFByb2ZpbGVEZXNjcmlwdGlvbklucHV0ID0gZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZGVzY3JpcHRpb24taW5wdXRcIik7XHJcblxyXG5jb25zdCBuZXdQb3N0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnRuXCIpO1xyXG5jb25zdCBuZXdQb3N0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25ldy1wb3N0LW1vZGFsXCIpO1xyXG5jb25zdCBuZXdQb3N0Q2xvc2VCdG4gPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnRuXCIpO1xyXG5jb25zdCBuZXdQb3N0Rm9ybSA9IG5ld1Bvc3RNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG5jb25zdCBuZXdQb3N0Q2FyZEltYWdlSW5wdXQgPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIiNjYXJkLWltYWdlLWlucHV0XCIpO1xyXG5jb25zdCBuZXdQb3N0Q2FwdGlvbkRlc2NyaXB0aW9uID0gbmV3UG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjY2FwdGlvbi1kZXNjcmlwdGlvbi1pbnB1dFwiKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVOYW1lRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiKTtcclxuXHJcbmNvbnN0IG5ld1Bvc3RJbWFnZUxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG5jb25zdCBuZXdQb3N0Q2FwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XHJcblxyXG5jb25zdCBwcmV2aWV3TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ByZXZpZXctbW9kYWxcIik7XHJcbmNvbnN0IHByZXZpZXdJbWFnZSA9IHByZXZpZXdNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcclxuY29uc3QgcHJldmlld0NhcHRpb24gPSBwcmV2aWV3TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2FwdGlvblwiKTtcclxuY29uc3QgcHJldmlld0Nsb3NlQnRuID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKTtcclxuXHJcbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZF90ZW1wbGF0ZVwiKVxyXG4gICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpO1xyXG5cclxuY29uc3QgY2FyZHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcclxuXHJcbmNvbnN0IG1vZGFscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2RhbCcpO1xyXG5cclxubW9kYWxzLmZvckVhY2goKG1vZGFsKSA9PiB7XHJcbiAgICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ21vZGFsJykpIHtcclxuICAgICAgICAgICAgY2xvc2VNb2RhbChtb2RhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlRXNjYXBlKGV2dCkge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICBjb25zdCBhY3RpdmVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfaXMtb3BlbmVkXCIpO1xyXG4gICAgICAgIGNsb3NlTW9kYWwoYWN0aXZlTW9kYWwpO1xyXG4gICAgfVxyXG5cclxufTtcclxuXHJcbmZ1bmN0aW9uIGdldENhcmRFbGVtZW50KGRhdGEpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZFRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIGNvbnN0IGNhcmRUaXRsZUVsID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcclxuICAgIGNvbnN0IGNhcmRJbWFnZUVsID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuXHJcbiAgICBjYXJkSW1hZ2VFbC5zcmMgPSBkYXRhLmxpbms7XHJcbiAgICBjYXJkSW1hZ2VFbC5hbHQgPSBkYXRhLm5hbWU7XHJcbiAgICBjYXJkVGl0bGVFbC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgIGNhcmRJbWFnZUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgcHJldmlld0ltYWdlLnNyYyA9IGRhdGEubGluaztcclxuICAgICAgICBwcmV2aWV3SW1hZ2UuYWx0ID0gZGF0YS5uYW1lO1xyXG5cclxuICAgICAgICBwcmV2aWV3Q2FwdGlvbi50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuXHJcbiAgICAgICAgb3Blbk1vZGFsKHByZXZpZXdNb2RhbCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBjYXJkTGlrZUJ0bkVsID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ0blwiKTtcclxuICAgIGNhcmRMaWtlQnRuRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBjYXJkTGlrZUJ0bkVsLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ0bl9hY3RpdmVcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBjYXJkRGVsZXRlQnRuRWwgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idG5cIik7XHJcbiAgICBjYXJkRGVsZXRlQnRuRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBjYXJkRWxlbWVudC5yZW1vdmUoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gb3Blbk1vZGFsKG1vZGFsKSB7XHJcbiAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfaXMtb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRXNjYXBlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xvc2VNb2RhbChtb2RhbCkge1xyXG4gICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX2lzLW9wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzY2FwZSk7XHJcbn1cclxuXHJcbmVkaXRQcm9maWxlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBlZGl0UHJvZmlsZU5hbWVJbnB1dC52YWx1ZSA9IHByb2ZpbGVOYW1lRWwudGV4dENvbnRlbnQ7XHJcbiAgICBlZGl0UHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBwcm9maWxlRGVzY3JpcHRpb25FbC50ZXh0Q29udGVudDtcclxuICAgIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oZWRpdFByb2ZpbGVGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoc2V0dGluZ3MuaW5wdXRTZWxlY3RvcikpO1xyXG4gICAgcmVzZXRWYWxpZGF0aW9uKGVkaXRQcm9maWxlRm9ybSwgaW5wdXRMaXN0LCBzZXR0aW5ncyk7XHJcbiAgICBvcGVuTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XHJcblxyXG59KVxyXG5cclxuZWRpdFByb2ZpbGVDbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cclxuICAgIGNsb3NlTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XHJcbn0pO1xyXG5cclxubmV3UG9zdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgb3Blbk1vZGFsKG5ld1Bvc3RNb2RhbCk7XHJcbn0pXHJcblxyXG5uZXdQb3N0Q2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGNsb3NlTW9kYWwobmV3UG9zdE1vZGFsKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVFZGl0UHJvZmlsZVN1Ym1pdChldnQpIHtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgcHJvZmlsZU5hbWVFbC50ZXh0Q29udGVudCA9IGVkaXRQcm9maWxlTmFtZUlucHV0LnZhbHVlO1xyXG4gICAgcHJvZmlsZURlc2NyaXB0aW9uRWwudGV4dENvbnRlbnQgPSBlZGl0UHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWU7XHJcbiAgICBjbG9zZU1vZGFsKGVkaXRQcm9maWxlTW9kYWwpO1xyXG59O1xyXG5cclxuZWRpdFByb2ZpbGVGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlRWRpdFByb2ZpbGVTdWJtaXQpO1xyXG5cclxucHJldmlld0Nsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBjbG9zZU1vZGFsKHByZXZpZXdNb2RhbCk7XHJcbn0pO1xyXG5cclxubmV3UG9zdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IG5ld1Bvc3RGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3N1Ym1pdC1idG5cIik7XHJcblxyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7XHJcbiAgICAgICAgbmFtZTogbmV3UG9zdENhcHRpb25EZXNjcmlwdGlvbi52YWx1ZSxcclxuICAgICAgICBsaW5rOiBuZXdQb3N0Q2FyZEltYWdlSW5wdXQudmFsdWVcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBnZXRDYXJkRWxlbWVudChpbnB1dFZhbHVlcyk7XHJcbiAgICBjYXJkc0xpc3QucHJlcGVuZChjYXJkRWxlbWVudCk7XHJcblxyXG4gICAgY2xvc2VNb2RhbChuZXdQb3N0TW9kYWwpO1xyXG4gICAgbmV3UG9zdEZvcm0ucmVzZXQoKTtcclxuICAgIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20obmV3UG9zdEZvcm0ucXVlcnlTZWxlY3RvckFsbChzZXR0aW5ncy5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIHN1Ym1pdEJ1dHRvbiwgc2V0dGluZ3MpO1xyXG59KTtcclxuXHJcbmluaXRpYWxDYXJkcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGdldENhcmRFbGVtZW50KGl0ZW0pO1xyXG4gICAgY2FyZHNMaXN0LmFwcGVuZChjYXJkRWxlbWVudCk7XHJcbn0pO1xyXG5cclxuZW5hYmxlVmFsaWRhdGlvbihzZXR0aW5ncyk7Il0sIm5hbWVzIjpbIm1hcCIsIndlYnBhY2tDb250ZXh0IiwicmVxIiwiaWQiLCJ3ZWJwYWNrQ29udGV4dFJlc29sdmUiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibyIsImUiLCJFcnJvciIsImNvZGUiLCJrZXlzIiwiT2JqZWN0IiwicmVzb2x2ZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwicCIsInNldHRpbmdzIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJoaWRlSW5wdXRFcnJvciIsImZvcm1FbCIsImlucHV0RWwiLCJjb25maWciLCJxdWVyeVNlbGVjdG9yIiwidGV4dENvbnRlbnQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0TGlzdCIsImJ1dHRvbkVsIiwic29tZSIsImlucHV0IiwidmFsaWRpdHkiLCJ2YWxpZCIsImhhc0ludmFsaWRJbnB1dCIsImRpc2FibGVkIiwiYWRkIiwiZW5hYmxlVmFsaWRhdGlvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJzZXRFdmVudExpc3RlbmVycyIsIkFycmF5IiwiZnJvbSIsImJ1dHRvbkVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiY2hlY2tJbnB1dFZhbGlkaXR5Iiwic2hvd0lucHV0RXJyb3IiLCJlcnJvck1zZyIsInZhbGlkYXRpb25NZXNzYWdlIiwicmVxdWlyZSIsImVkaXRQcm9maWxlQnRuIiwiZWRpdFByb2ZpbGVNb2RhbCIsImVkaXRQcm9maWxlQ2xvc2VCdG4iLCJlZGl0UHJvZmlsZUZvcm0iLCJlZGl0UHJvZmlsZU5hbWVJbnB1dCIsImVkaXRQcm9maWxlRGVzY3JpcHRpb25JbnB1dCIsIm5ld1Bvc3RCdG4iLCJuZXdQb3N0TW9kYWwiLCJuZXdQb3N0Q2xvc2VCdG4iLCJuZXdQb3N0Rm9ybSIsIm5ld1Bvc3RDYXJkSW1hZ2VJbnB1dCIsIm5ld1Bvc3RDYXB0aW9uRGVzY3JpcHRpb24iLCJwcm9maWxlTmFtZUVsIiwicHJvZmlsZURlc2NyaXB0aW9uRWwiLCJwcmV2aWV3TW9kYWwiLCJwcmV2aWV3SW1hZ2UiLCJwcmV2aWV3Q2FwdGlvbiIsInByZXZpZXdDbG9zZUJ0biIsImNhcmRUZW1wbGF0ZSIsImNvbnRlbnQiLCJjYXJkc0xpc3QiLCJoYW5kbGVFc2NhcGUiLCJldnQiLCJrZXkiLCJjbG9zZU1vZGFsIiwiZ2V0Q2FyZEVsZW1lbnQiLCJkYXRhIiwiY2FyZEVsZW1lbnQiLCJjbG9uZU5vZGUiLCJjYXJkVGl0bGVFbCIsImNhcmRJbWFnZUVsIiwic3JjIiwibGluayIsImFsdCIsIm5hbWUiLCJvcGVuTW9kYWwiLCJjYXJkTGlrZUJ0bkVsIiwidG9nZ2xlIiwibW9kYWwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwiY29udGFpbnMiLCJ2YWx1ZSIsInJlc2V0VmFsaWRhdGlvbiIsInByZXZlbnREZWZhdWx0Iiwic3VibWl0QnV0dG9uIiwicHJlcGVuZCIsInJlc2V0IiwiaXRlbSIsImFwcGVuZCJdLCJzb3VyY2VSb290IjoiIn0=